# urn:lsid:broad.mit.edu:cancer.software.genepattern.module.analysis:00041:12
# 
# Regression test case regarding runs with 20 CELs and certain CDF files

module: ExpressionFileCreator 
params: 
        input.file: "<%gpunit.testDataRoot%><%efc.inputPath%>/Ethnic_20.zip"
        clm.file: "<%gpunit.testDataRoot%><%efc.inputPath%>/ethnic_20.clm"
        annotate.probes: "yes"
        normalization.method: "median scaling"
        output.file: "<input.file_basename>"
        compute.present.absent.calls: "no"
        method: "RMA"
        quantile.normalization: "yes"
        background.correct: "yes"
        value.to.scale.to:
        cdf.file: "<%gpunit.testDataRoot%><%efc.inputPath%>/PrimeView.cdf"
assertions:
        files:
            "Ethnic_20.cls":
                diffCmd: diff -q --strip-trailing-cr
                diff: "<%gpunit.resultDataRoot%><%efc.outputPath%>/RT150777_regression_test/Ethnic_20.cls"
            "Ethnic_20.gct":
                diffCmd: ./diffWithTolerance.sh
                diff: "<%gpunit.resultDataRoot%><%efc.outputPath%>/RT150777_regression_test/Ethnic_20.gct"
